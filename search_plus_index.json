{"./":{"url":"./","title":"前言","keywords":"","body":"Gitbook Template 基于 Legacy 版 Gitbook 的模版 GitBook 版本为 3.2.3 也推荐 docsify, 相当于一个精简的 GitBook，不需要编译，使用很方便 预览地址：https://stuarthua.github.io/gitbook-template/ 使用 安装 node (略) 安装 GitBook npm install -g gitbook-cli Clone 代码到本地并运行 git clone git@github.com:stuarthua/gitbook-template.git cd gitbook-template gitbook install gitbook serve 在浏览器中查看 http://localhost:4000 效果预览： Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/1-Basic/":{"url":"mybook/1-Basic/","title":"基本使用","keywords":"","body":"第一章标题 演示一些基本使用 普通的无序列表： 无序列表元素a 无序列表元素b 无序列表元素c 有序列表： 有序列表编号1 有序列表编号2 有序列表编号3 第一章第一节 第一章第一节的内容 第一章第二节 第一章第二节的内容 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/1-Basic/001.html":{"url":"mybook/1-Basic/001.html","title":"第一节","keywords":"","body":"第一章第一节 第一章第一节的内容 演示引用 gitbook/images 文件夹中图片的效果： Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/1-Basic/002.html":{"url":"mybook/1-Basic/002.html","title":"第二节","keywords":"","body":"第一章第二节 第一章第二节的内容 演示添加多个子章节 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/2-Wiki/":{"url":"mybook/2-Wiki/","title":"说明","keywords":"","body":"Gitbook 说明 对 Gitbook 的使用做一些说明 目录结构 配置 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/2-Wiki/structure.html":{"url":"mybook/2-Wiki/structure.html","title":"目录结构","keywords":"","body":"目录结构 GitBook 基本的目录结构如下所示： . ├── book.json ├── README.md ├── SUMMARY.md ├── chapter-1/ | ├── README.md | └── something.md └── chapter-2/ ├── README.md └── something.md 以下对 GitBook 预定义的几个文件进行一些解释说明 book.json 存放配置信息，关于该文件的配置可以阅读 配置 这个章节。 Summary 概要文件主要存放 GitBook 的文件目录信息，左侧的目录就是根据这个文件来生成的，默认对应的文件是 SUMMARY.md，可以在 book.json 重新定义该文件的对应值。它通过 Markdown 中的列表语法来表示文件的父子关系，下面是一个简单的示例： # Summary * [Introduction](README.md) * [Part I](part1/README.md) * [Writing is nice](part1/writing.md) * [GitBook is nice](part1/gitbook.md) * [Part II](part2/README.md) * [We love feedback](part2/feedback_please.md) * [Better tools for authors](part2/better_tools.md) 这个配置对应的目录结构如下所示: 通过使用 标题 或者 水平分割线 标志将 GitBook 分为几个不同的部分 # Summary ### Part I * [Introduction](README.md) * [Writing is nice](part1/writing.md) * [GitBook is nice](part1/gitbook.md) ### Part II * [We love feedback](part2/feedback_please.md) * [Better tools for authors](part2/better_tools.md) ---- * [Last part without title](part3/title.md) 这个配置对应的目录结构如下所示： Glossary 词汇表文件，默认对应的文件是 GLOSSARY.md。该文件主要存储词汇信息，如果在其他页面中出现了该文件中的词汇，鼠标放到词汇上会给出词汇示意，可以将鼠标移到下面两个词汇上看下效果。 Git    Markdown Glossary 文件的格式如下所示： ## Git 分散式版本控制软件 ## Markdown Aaron Swartz 跟John Gruber共同设计的排版语言 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/2-Wiki/settings.html":{"url":"mybook/2-Wiki/settings.html","title":"配置","keywords":"","body":"GitBook 配置 Gitbook 配置文件 book.json, 记录了所有的配置信息，说明如下： title - 标题 author - 作者信息 description - 书本描述 language - 使用的语言 gitbook - 指定gitbook版本 root - 指定存放 GitBook 文件的根目录 links - 在侧边栏添加链接 styles - 自定义样式 plugins - 插件 pluginsConfig - 插件配置 structure - 设置 Readme, Summary, Glossary等对应的文件 title 设置书本的标题 \"title\" : \"Gitbook Use\" author 作者的相关信息 \"author\" : \"zhangjikai\" description 本书的简单描述 \"description\" : \"记录Gitbook的配置和一些插件的使用\" language Gitbook使用的语言, 版本 2.6.4 中可选的语言如下： en, ar, bn, cs, de, en, es, fa, fi, fr, he, it, ja, ko, no, pl, pt, ro, ru, sv, uk, vi, zh-hans, zh-tw 配置使用简体中文 \"language\" : \"zh-hans\", gitbook 指定使用的gitbook版本 \"gitbook\" : \"3.2.2\", \"gitbook\" : \">=3.0.0\" root 指定存放 GitBook 文件（除了 book.json）的根目录 \"root\": \".\" links 在左侧导航栏添加链接信息 \"links\" : { \"sidebar\" : { \"Home\" : \"http://zhangjikai.com\" } } styles 自定义页面样式， 默认情况下各generator对应的css文件 \"styles\": { \"website\": \"styles/website.css\", \"ebook\": \"styles/ebook.css\", \"pdf\": \"styles/pdf.css\", \"mobi\": \"styles/mobi.css\", \"epub\": \"styles/epub.css\" } 例如使 标签有下边框， 可以在website.css中设置 h1 , h2{ border-bottom: 1px solid #EFEAEA; } plugins 配置使用的插件 \"plugins\": [ \"disqus\" ] 添加新插件之后需要运行 gitbook install 来安装新的插件 Gitbook 3.2.3 默认带有 7 个插件： livereload highlight search lunr sharing fontsettings theme-default 如果要去除自带的插件， 可以在插件名称前面加- \"plugins\": [ \"-search\" ] pluginsConfig 配置插件的属性 \"pluginsConfig\": { \"fontsettings\": { \"theme\": \"sepia\", \"family\": \"serif\", \"size\": 1 } } structure 指定 Readme、Summary、Glossary 和 Languages 对应的文件名，下面是这几个文件对应变量以及默认值： 变量 含义和默认值 structure.readme Readme file name (defaults to README.md) structure.summary Summary file name (defaults to SUMMARY.md) structure.glossary Glossary file name (defaults to GLOSSARY.md) structure.languages Languages file name (defaults to LANGS.md) Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/":{"url":"mybook/3-Extend/","title":"拓展","keywords":"","body":"拓展 拓展 Gitbook 运行 gitbook init 得到的默认界面如下： 自定义 Gitbook 效果预览： 以下记录对默认 Gitbook 进行一些设置，生成个人 Gitbook 模版的过程 book.json 设置 设置 favicon 自定义样式 styles 使用 SUMMARY.md 使用 GLOSSARY.md 默认插件设置 使用插件 自动部署 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/book-json.html":{"url":"mybook/3-Extend/book-json.html","title":"book.json 设置","keywords":"","body":"book.json 设置 基本 设置 title、description、auther、language 指定 gitbook 版本为 3.2.3 添加 sidebar 链接 { \"title\": \"Gitbook Template\", \"description\": \"A template for gitbook\", \"author\": \"Stuart Hua\", \"language\": \"zh-hans\", \"gitbook\": \"3.2.3\", \"links\": { \"sidebar\": { \"Blog\": \"https://blog.stuarthua.com/\" } } } 预览效果： Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/setting-favicon.html":{"url":"mybook/3-Extend/setting-favicon.html","title":"设置 favicon","keywords":"","body":"设置 favicon 在项目根目录下新建 gitbook/images 目录 mkdir -p gitbook/images 在该目录下存放 favicon 文件 通用 (尺寸 48x48) - favicon.ico 用于苹果设备 (尺寸 152x152) - apple-touch-icon-precomposed-152.png 清除浏览器缓存，重新运行即可查看效果 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/setting-styles.html":{"url":"mybook/3-Extend/setting-styles.html","title":"自定义样式 styles","keywords":"","body":"自定义样式 styles 在项目根目录下新建 styles 目录 mkdir styles 在该目录下存放 website.css 样式文件 编辑 website.css, 清除浏览器缓存，重新运行即可查看效果 修改如下： /* remove gitbook link */ .gitbook-link { display: none !important; } /* Todo */ input[type=checkbox]{ margin-left: -2em; } /* Prism */ pre[class*=\"language-\"] { border: none; background-color: #f7f7f7; font-size: 1em; line-height: 1.2em; } /* Ace */ .aceCode { font-size: 14px !important; } Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/setting-summary.html":{"url":"mybook/3-Extend/setting-summary.html","title":"使用 SUMMARY.md","keywords":"","body":"使用 SUMMARY.md ## Gitbook Template - [简介](README.md) - [第一章 - 基本使用](mybook/1-Basic/README.md) - [第一节](mybook/1-Basic/001.md) - [第二节](mybook/1-Basic/002.md) - [第二章 - 说明](mybook/2-Wiki/README.md) - [目录结构](mybook/2-Wiki/structure.md) - [配置](mybook/2-Wiki/settings.md) - [第三章 - 拓展](mybook/3-Extend/README.md) - [book.json 设置](mybook/3-Extend/book-json.md) - [设置 favicon](mybook/3-Extend/setting-favicon.md) - [自定义样式 styles](mybook/3-Extend/setting-styles.md) - [使用 SUMMARY.md](mybook/3-Extend/setting-summary.md) - [使用 GLOSSARY.md](mybook/3-Extend/setting-glossary.md) - [默认插件设置](mybook/3-Extend/setting-default-plugin.md) - [使用插件](mybook/3-Extend/some-plugin.md) Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/setting-glossary.html":{"url":"mybook/3-Extend/setting-glossary.html","title":"使用 GLOSSARY.md","keywords":"","body":"使用 GLOSSARY.md ## Git 分散式版本控制软件 ## Markdown Aaron Swartz 跟John Gruber共同设计的排版语言 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/setting-default-plugin.html":{"url":"mybook/3-Extend/setting-default-plugin.html","title":"默认插件设置","keywords":"","body":"默认插件设置 Gitbook 3.2.3 默认加载的插件有： livereload highlight search lunr sharing fontsettings theme-default 禁用 sharing 插件 { \"title\": \"Gitbook Template\", \"description\": \"A template for gitbook\", \"author\": \"Stuart Hua\", \"language\": \"zh-hans\", \"gitbook\": \"3.2.3\", \"links\": { \"sidebar\": { \"Blog\": \"https://blog.stuarthua.com/\" } }, \"plugins\": [ \"-sharing\" ] } 开启标题的数字索引 { \"title\": \"Gitbook Template\", \"description\": \"A template for gitbook\", \"author\": \"Stuart Hua\", \"language\": \"zh-hans\", \"gitbook\": \"3.2.3\", \"links\": { \"sidebar\": { \"Blog\": \"https://blog.stuarthua.com/\" } }, \"plugins\": [ \"-sharing\" ], \"pluginsConfig\": { \"theme-default\": { \"showLevel\": true } } } Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/some-plugin.html":{"url":"mybook/3-Extend/some-plugin.html","title":"使用插件","keywords":"","body":"GitBook 插件 Gitbook 3.2.3 默认加载的插件有： livereload highlight search lunr sharing fontsettings theme-default favicon-absolute 第三方插件 参考： https://snowdreams1006.github.io/gitbook-official/zh/ https://gitbook.zhangjikai.com/ http://www.chengweiyang.cn/gitbook/ prism & prism-themes 禁用 highlight 插件，使用 prism 搭配 prism-themes 为语法添加高亮显示 { \"plugins\": [ \"prism\", \"prism-theme\", \"-highlight\" ], \"pluginsConfig\": { \"prism\": { \"css\": [ \"prism-themes/themes/prism-base16-ateliersulphurpool.light.css\" ] } } } 修改默认样式，编辑 website.css, 添加 css 样式： /* Prism */ pre[class*=\"language-\"] { border: none; background-color: #f7f7f7; font-size: 1em; line-height: 1.2em; } search-pro 禁用 lunr, search, 使用 search-pro 支持中文搜索 { \"plugins\": [ \"-lunr\", \"-search\", \"search-pro\" ] } advanced-emoji 使用 advanced-emoji 添加 emoji 支持 { \"plugins\": [ \"advanced-emoji\" ] } 使用示例： ace 添加插件，使 GitBook 支持 ace { \"plugins\": [ \"ace\" ] } 修改 ace 默认行高，编辑 website.css, 添加 css 样式： /* Ace */ .aceCode { font-size: 14px !important; } 使用示例： {%raw%}// This is a hello world program for C. #include &lt;stdio.h&gt; int main(){ printf(&quot;Hello World!&quot;); return 1; }{%endraw%} 效果预览： 注意： 开启此插件，使用 gitbook 生成 epub、mobi 格式电子书时，有可能失败 splitter 添加 splitter 使侧边栏的宽度可以自由调节 { \"plugins\": [ \"splitter\" ] } edit-link 使用 edit-link 添加顶部编辑菜单 { \"plugins\": [ \"edit-link\" ], \"pluginsConfig\": { \"edit-link\": { \"base\": \"https://github.com/USER/REPO/edit/BRANCH\", \"label\": \"Edit\" } } } 使用效果： page-footer-ex 使用 page-footer-ex, 为页面添加页脚 { \"plugins\": [ \"page-footer-ex\" ], \"pluginsConfig\": { \"page-footer-ex\": { \"copyright\": \"Copyright &copy stuarthua.com 2019\", \"markdown\": false, \"update_label\": \"该文件修订时间：\", \"update_format\": \"YYYY-MM-DD HH:mm:ss\" } } } 使用效果： 注意： 开启此插件，使用 gitbook 生成 epub、mobi 格式电子书时，页脚样式会添加到正文中 sectionx 添加 sectionx 使页面支持分块显示 { \"plugins\": [ \"sectionx\" ], \"pluginsConfig\": { \"sectionx\": { \"tag\": \"b\" } } } 使用示例： Insert markdown content here (you should start with h3 if you use heading). 效果预览： Insert markdown content here (you should start with h3 if you use heading). 注意： 该插件开启后，和 callouts 有冲突，建议置于 callouts 插件之前加载 todo 使用 todo 添加 Todo 功能。 { \"plugins\": [ \"todo\" ] } 默认的 checkbox 会向右偏移 2em，如果不希望偏移，可以在 website.css 里加上下面的代码: /* Todo */ input[type=checkbox]{ margin-left: -2em; } 使用示例： [ ] write some articles [x] drink a cup of tea github github 添加 github 图标 { \"plugins\": [ \"github\" ] } 使用效果： rss rss 添加 rss 订阅功能 { \"plugins\": [ \"rss\" ], \"pluginsConfig\": { \"rss\": { \"title\": \"gitbook-template\", \"description\": \"基于 Legacy 版 Gitbook 的模版\", \"author\": \"Stuart Hua\", \"feed_url\": \"https://stuarthua.github.io/gitbook-template/rss\", \"site_url\": \"https://stuarthua.github.io/gitbook-template/\", \"managingEditor\": \"stuarthua.cn@gmail.com\", \"webMaster\": \"stuarthua.cn@gmail.com\", \"categories\": [ \"gitbook\" ] } } } 使用效果： anchor-navigation-ex 使用 anchor-navigation-ex 添加 Toc 到侧边悬浮导航以及回到顶部按钮 { \"plugins\": [ \"anchor-navigation-ex\" ], \"pluginsConfig\": { \"anchor-navigation-ex\": { \"showLevel\": false, \"associatedWithSummary\": false } } } 注意: anchor-navigation-ex 插件只会提取 h1-h3 标签作为悬浮导航，且必须按照 h1 - h2 - h3 的顺序嵌套，才可被提取目录 使用效果： disqus 使用 disqus 增加评论功能 { \"plugins\": [ \"disqus\" ], \"pluginsConfig\": { \"disqus\": { \"shortName\": \"Your Name\" } } } versions-select 使用 versions-select 插件，添加版本选择的下拉菜单，针对文档有多个版本的情况，需要添加多版本文档地址 { \"plugins\": [ \"versions-select\" ], \"pluginsConfig\": { \"versions-select\": { \"options\": [ { \"value\": \"http://stuarthua.github.io/gitbook-template\", \"text\": \"v3.2.2\" }, { \"value\": \"http://stuarthua.github.io/gitbook-template/v2\", \"text\": \"v2.6.4\" } ] } } } 可以自定义 css 来修改 select 的显示样式，编辑 website.css： .versions-select select { height: 2em; line-height: 2em; border-radius: 4px; background: #efefef; } 使用效果： expandable-chapters 增加侧边栏标题展开收缩功能 \"plugins\": [ \"expandable-chapters\" ] 使用效果： expandable-chapters-small 增加侧边栏标题展开收缩功能，图标较小 \"plugins\": [ \"expandable-chapters-small\" ] 使用效果： donate 增加打赏功能 \"plugins\": [ \"donate\" ], \"pluginsConfig\": { \"donate\": { \"button\": \"打赏\", \"alipayText\": \"支付宝打赏\", \"wechatText\": \"微信打赏\", \"alipay\": \"xxx.jpg\", \"wechat\": \"xxx.jpg\" } } copy-code-button 给 GitBook 的 Code 添加复制功能，可以一键复制代码块的所有代码 \"plugins\": [ \"copy-code-button\" ] 效果预览： theme-comscore 区分标题颜色的主题 \"plugins\": [ \"theme-comscore\" ] 效果预览： toolbar-button 添加工具栏按钮，如添加下载 PDF 按钮 \"plugins\": [ \"toolbar-button\" ] \"pluginsConfig\": { \"toolbar-button\": { \"url\": \"https://stuarthua.github.io/gitbook-template/gitbook-template.pdf\", \"icon\": \"fa-file-pdf-o\", \"label\": \"下载PDF\" }, } 需要安装 gitbook-pdf 插件和 calibre，生成 PDF： # 安装 gitbook-pdf ## 如果无法下载 phantomjs-1.9.7-macosx.zip，可在 https://bitbucket.org/ariya/phantomjs/downloads/ 目录中找到 phantomjs-1.9.8-macosx.zip 手动放到报错目录，再次执行安装即可 npm install gitbook-pdf -g # 安装 calibre brew cask install calibre 生成 PDF： gitbook pdf . 同理，也可生成 ePub 和 Mobi 格式电子书 gitbook epub . gitbook mobi . 效果预览： 注意： 使用此插件，会覆盖 edit-link 插件、rss 插件、fontsetting 插件的标题栏显示 callouts 更好看的 hint callout 提示 { \"plugins\": [\"callouts\"], \"pluginsConfig\":{ \"callouts\":{ \"showTypeInHeader\": false } } } 效果预览： 注意： 该插件开启后，和 sectionx 有冲突，建议置于 sectionx 插件后 sitemap-general 生成站点地图，方便搜索引擎收录 { \"plugins\": [ \"sitemap-general\" ], \"pluginsConfig\":{ \"sitemap-general\":{ \"prefix\": \"https://stuarthua.github.io/gitbook-template/\" } } } ga Google 统计 { \"plugins\": [ \"ga\" ], \"pluginsConfig\": { \"ga\": { \"token\": \"UA-XXXX-Y\" } } } token 从 Google Analytics 中获取 baidu-tongji 给 GitBook 的站点添加百度统计，这样用户的访问数量可以通过百度统计查看到 { \"plugins\": [ \"baidu-tongji\" ], \"pluginsConfig\": { \"baidu-tongji\": { \"token\": \"xxxxxx\" } } favicon-absolute 为网站设置 favicon { \"plugins\": [ \"favicon-absolute\" ], \"pluginsConfig\": { \"favicon-absolute\":{ \"favicon\": \"/favicon.ico\", \"appleTouchIconPrecomposed152\": \"/apple-touch-icon-precomposed-152.png\" } } } Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"mybook/3-Extend/publish.html":{"url":"mybook/3-Extend/publish.html","title":"自动部署","keywords":"","body":"自动部署 使用 travis + gitbook + github pages 自动部署电子书 参考：使用 travis + gitbook + github pages 优雅地发布自己的书 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "},"GLOSSARY.html":{"url":"GLOSSARY.html","keywords":"","body":"Git 分散式版本控制软件 Markdown Aaron Swartz 跟John Gruber共同设计的排版语言 Copyright © stuarthua.com 2019            该文件修订时间： 2020-03-09 19:11:41 "}}